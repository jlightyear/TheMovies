function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function showCurrentLocation(){navigator.geolocation.getCurrentPosition(function(a){var b=a.coords.latitude,c=a.coords.longitude;$$(".location p span").text(b+", "+c)})}$$(document).ready(function(){$$(".button-add").on("click",function(){$$(".button-add").html("added!")})}),navigator.geolocation&&console.log("Geolocation is available ");var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();